foreign_keys:
  - parent_table: users
    parent_column: user_id
    child_table: group_members
    child_column: user_id
    type: "1:N"

  - parent_table: groups
    parent_column: group_id
    child_table: group_members
    child_column: group_id
    type: "1:N"

  - parent_table: groups
    parent_column: group_id
    child_table: spaces
    child_column: owner_group_id
    type: "1:N"

  - parent_table: permission_sets
    parent_column: permission_set_id
    child_table: spaces
    child_column: baseline_permissions_id
    type: "1:N"

  - parent_table: spaces
    parent_column: space_id
    child_table: pages
    child_column: space_id
    type: "1:N"

  - parent_table: pages
    parent_column: page_id
    child_table: pages
    child_column: parent_page_id
    type: "1:N"

  - parent_table: users
    parent_column: user_id
    child_table: pages
    child_column: creator_id
    type: "1:N"

  - parent_table: users
    parent_column: user_id
    child_table: pages
    child_column: last_modified_by
    type: "1:N"

  - parent_table: restriction_sets
    parent_column: restrictions_id
    child_table: pages
    child_column: restrictions_id
    type: "1:N"

  - parent_table: pages
    parent_column: page_id
    child_table: attachments
    child_column: page_id
    type: "1:N"

  - parent_table: users
    parent_column: user_id
    child_table: attachments
    child_column: uploader_id
    type: "1:N"

  - parent_table: spaces
    parent_column: space_id
    child_table: labels
    child_column: space_id
    type: "1:N"

  - parent_table: users
    parent_column: user_id
    child_table: labels
    child_column: created_by
    type: "1:N"

  - parent_table: pages
    parent_column: page_id
    child_table: page_labels
    child_column: page_id
    type: "1:N"

  - parent_table: labels
    parent_column: label_id
    child_table: page_labels
    child_column: label_id
    type: "1:N"

  - parent_table: attachments
    parent_column: attachment_id
    child_table: attachment_labels
    child_column: attachment_id
    type: "1:N"

  - parent_table: labels
    parent_column: label_id
    child_table: attachment_labels
    child_column: label_id
    type: "1:N"

  - parent_table: spaces
    parent_column: space_id
    child_table: templates
    child_column: space_id
    type: "1:N"

  - parent_table: users
    parent_column: user_id
    child_table: templates
    child_column: owner_id
    type: "1:N"

  - parent_table: restriction_sets
    parent_column: restrictions_id
    child_table: restriction_subject_users
    child_column: restrictions_id
    type: "1:N"

  - parent_table: users
    parent_column: user_id
    child_table: restriction_subject_users
    child_column: user_id
    type: "1:N"

  - parent_table: restriction_sets
    parent_column: restrictions_id
    child_table: restriction_subject_groups
    child_column: restrictions_id
    type: "1:N"

  - parent_table: groups
    parent_column: group_id
    child_table: restriction_subject_groups
    child_column: group_id
    type: "1:N"

  - parent_table: permission_sets
    parent_column: permission_set_id
    child_table: permission_grants
    child_column: permission_set_id
    type: "1:N"

  - parent_table: spaces
    parent_column: space_id
    child_table: permission_sets
    child_column: target_id
    type: "1:N"

  - parent_table: spaces
    parent_column: space_id
    child_table: workflows
    child_column: space_id
    type: "1:N"

  - parent_table: pages
    parent_column: page_id
    child_table: workflow_transitions
    child_column: page_id
    type: "1:N"

  - parent_table: users
    parent_column: user_id
    child_table: workflow_transitions
    child_column: actor_id
    type: "1:N"

  - parent_table: spaces
    parent_column: space_id
    child_table: calendars
    child_column: space_id
    type: "1:N"

  - parent_table: users
    parent_column: user_id
    child_table: calendars
    child_column: created_by
    type: "1:N"

  - parent_table: calendars
    parent_column: calendar_id
    child_table: calendar_events
    child_column: calendar_id
    type: "1:N"

  - parent_table: users
    parent_column: user_id
    child_table: calendar_events
    child_column: created_by
    type: "1:N"

  - parent_table: spaces
    parent_column: space_id
    child_table: integrations
    child_column: space_id
    type: "1:N"

  - parent_table: spaces
    parent_column: space_id
    child_table: reports
    child_column: space_id
    type: "1:N"

  - parent_table: users
    parent_column: user_id
    child_table: reports
    child_column: generated_by
    type: "1:N"

  - parent_table: groups
    parent_column: group_id
    child_table: notifications
    child_column: recipient_group_id
    type: "1:N"

  - parent_table: users
    parent_column: user_id
    child_table: migration_plans
    child_column: created_by
    type: "1:N"

  - parent_table: users
    parent_column: user_id
    child_table: audit_trail
    child_column: actor_id
    type: "1:N"

  - parent_table: services
    parent_column: service_id
    child_table: configuration_items
    child_column: service_id
    type: "1:N"

  - parent_table: groups
    parent_column: group_id
    child_table: configuration_items
    child_column: owner_group_id
    type: "1:N"

  - parent_table: groups
    parent_column: group_id
    child_table: services
    child_column: owner_group_id
    type: "1:N"

  - parent_table: groups
    parent_column: group_id
    child_table: problems
    child_column: owner_group_id
    type: "1:N"

  - parent_table: users
    parent_column: user_id
    child_table: problems
    child_column: created_by
    type: "1:N"

  - parent_table: users
    parent_column: user_id
    child_table: incidents
    child_column: reporter_id
    type: "1:N"

  - parent_table: users
    parent_column: user_id
    child_table: incidents
    child_column: assignee_id
    type: "1:N"

  - parent_table: groups
    parent_column: group_id
    child_table: incidents
    child_column: assignment_group_id
    type: "1:N"

  - parent_table: configuration_items
    parent_column: ci_id
    child_table: incidents
    child_column: ci_id
    type: "1:N"

  - parent_table: problems
    parent_column: problem_id
    child_table: incidents
    child_column: problem_id
    type: "1:N"

  - parent_table: services
    parent_column: service_id
    child_table: incidents
    child_column: service_id
    type: "1:N"

  - parent_table: services
    parent_column: service_id
    child_table: slas
    child_column: service_id
    type: "1:N"

  - parent_table: incidents
    parent_column: incident_id
    child_table: incident_slas
    child_column: incident_id
    type: "1:N"

  - parent_table: slas
    parent_column: sla_id
    child_table: incident_slas
    child_column: sla_id
    type: "1:N"

generic_foreign_keys:
  - child_table: notifications
    type_column: class
    id_column: reference_entity_id
    mapping:
      space:
        parent_table: spaces
        parent_column: space_id
      page:
        parent_table: pages
        parent_column: page_id
      template:
        parent_table: templates
        parent_column: template_id
      workflow:
        parent_table: workflows
        parent_column: workflow_id
      integration:
        parent_table: integrations
        parent_column: integration_id
